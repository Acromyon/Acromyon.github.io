{"version":3,"sources":["common.js"],"names":["app","Vue","el","data","cards","currentCards","donePairs","cardsFrozen","timer","computed","percentageProgress","this","length","methods","getCardSet","card","seniority","Math","floor","getRandomNumber","suit","checkDoubleCards","$set","push","duplicateCardSet","min","max","random","i","cloneArray","cloneElem","key","concat","sort","mixCardSet","timerTick","openCards","index","_this","state","isAllDone","setTimeout","closeCards","_this2","closeTab","window","close","created"],"mappings":"AAAA,aAEA,IAAIA,IAAM,IAAIC,IAAI,CACjBC,GAAI,OACJC,KAAM,CACLC,MAAO,GACPC,aAAc,GACdC,UAAW,EACXC,aAAa,EACbC,MAAO,GAERC,SAAU,CACTC,mBAAoB,WACnB,OAAO,KAAOC,KAAKP,MAAMQ,OAAS,GAAKD,KAAKL,YAG9CO,QAAS,CACRC,WAAY,WAKX,IAJAH,KAAKP,MAAQ,GACbO,KAAKL,UAAY,EACjBK,KAAKJ,aAAc,EACnBI,KAAKH,MAAQ,EACNG,KAAKP,MAAMQ,OAAS,IAAI,CAC9B,IAAIG,EAAO,GACXA,EAAKC,UAAYC,KAAKC,MAAMP,KAAKQ,gBAAgB,EAAG,KACpDJ,EAAKK,KAAOH,KAAKC,MAAMP,KAAKQ,gBAAgB,EAAG,IAChCR,KAAKU,iBAAiBN,KAIrCJ,KAAKW,KAAKP,EAAM,QAAS,UACzBJ,KAAKP,MAAMmB,KAAKR,IAEjBJ,KAAKa,oBAENL,gBAAiB,SAAyBM,EAAKC,GAC9C,OAAOD,EAAMR,KAAKU,UAAYD,EAAM,EAAID,IAEzCJ,iBAAkB,SAA0BN,GAC3C,IAAK,IAAIa,EAAI,EAAGA,EAAIjB,KAAKP,MAAMQ,OAAQgB,IACtC,GAAIjB,KAAKP,MAAMwB,GAAGZ,YAAcD,EAAKC,WAAaL,KAAKP,MAAMwB,GAAGR,OAASL,EAAKK,KAC7E,OAAO,EAGT,OAAO,GAERI,iBAAkB,WAEjB,IADA,IAAIK,EAAa,GACRD,EAAI,EAAGA,EAAIjB,KAAKP,MAAMQ,OAAQgB,IAAK,CAC3C,IAAIE,EAAY,GAChB,IAAK,IAAIC,KAAOpB,KAAKP,MAAMwB,GAC1BE,EAAUC,GAAOpB,KAAKP,MAAMwB,GAAGG,GAEhCF,EAAWN,KAAKO,GAEjBnB,KAAKP,MAAQO,KAAKP,MAAM4B,OAAOH,GAC/BlB,KAAKP,MAAM6B,KAAKtB,KAAKuB,YACrBvB,KAAKwB,aAEND,WAAY,WACX,OAAOjB,KAAKU,SAAW,IAExBS,UAAW,SAAmBC,GAC7B,IAAIC,EAAQ3B,KAEZ,IAAKA,KAAKJ,aAA2C,WAA5BI,KAAKP,MAAMiC,GAAOE,MAG1C,GAFA5B,KAAKP,MAAMiC,GAAOE,MAAQ,SAC1B5B,KAAKN,aAAakB,KAAKZ,KAAKP,MAAMiC,IACD,IAA7B1B,KAAKN,aAAaO,QAAgBD,KAAKN,aAAa,GAAGe,OAAST,KAAKN,aAAa,GAAGe,MAAQT,KAAKN,aAAa,GAAGW,YAAcL,KAAKN,aAAa,GAAGW,UAAW,CACnK,IAAK,IAAIY,EAAI,EAAGA,EAAIjB,KAAKN,aAAaO,OAAQgB,IAC7CjB,KAAKN,aAAauB,GAAGW,MAAQ,OAE9B5B,KAAKL,YACLK,KAAKN,aAAe,GACpBM,KAAK6B,iBACkC,IAA7B7B,KAAKN,aAAaO,SAC5BD,KAAKJ,aAAc,EACnBkC,WAAW,WACVH,EAAMI,cACJ,QAINA,WAAY,WACX,IAAK,IAAId,EAAI,EAAGA,EAAIjB,KAAKP,MAAMQ,OAAQgB,IACV,WAAxBjB,KAAKP,MAAMwB,GAAGW,QACjB5B,KAAKP,MAAMwB,GAAGW,MAAQ,UAGxB5B,KAAKN,aAAe,GACpBM,KAAKJ,aAAc,GAEpB4B,UAAW,WACV,IAAIQ,EAAShC,KAETA,KAAKL,UAAY,IACpBmC,WAAW,WACVE,EAAOnC,QACPmC,EAAOR,aACL,MAGLK,UAAW,WACa,KAAnB7B,KAAKL,YACRK,KAAKJ,aAAc,IAGrBqC,SAAU,WACTC,OAAOC,UAGTC,QAAS,WACRpC,KAAKG","file":"../common.min.js","sourcesContent":["'use strict';\n\nvar app = new Vue({\n\tel: '#app',\n\tdata: {\n\t\tcards: [],\n\t\tcurrentCards: [],\n\t\tdonePairs: 0,\n\t\tcardsFrozen: false,\n\t\ttimer: 0\n\t},\n\tcomputed: {\n\t\tpercentageProgress: function percentageProgress() {\n\t\t\treturn 100 / (this.cards.length / 2) * this.donePairs;\n\t\t}\n\t},\n\tmethods: {\n\t\tgetCardSet: function getCardSet() {\n\t\t\tthis.cards = [];\n\t\t\tthis.donePairs = 0;\n\t\t\tthis.cardsFrozen = false;\n\t\t\tthis.timer = 0;\n\t\t\twhile (this.cards.length < 12) {\n\t\t\t\tvar card = {};\n\t\t\t\tcard.seniority = Math.floor(this.getRandomNumber(2, 13));\n\t\t\t\tcard.suit = Math.floor(this.getRandomNumber(0, 3));\n\t\t\t\tvar isDouble = this.checkDoubleCards(card);\n\t\t\t\tif (isDouble) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis.$set(card, 'state', 'closed');\n\t\t\t\tthis.cards.push(card);\n\t\t\t}\n\t\t\tthis.duplicateCardSet();\n\t\t},\n\t\tgetRandomNumber: function getRandomNumber(min, max) {\n\t\t\treturn min + Math.random() * (max + 1 - min);\n\t\t},\n\t\tcheckDoubleCards: function checkDoubleCards(card) {\n\t\t\tfor (var i = 0; i < this.cards.length; i++) {\n\t\t\t\tif (this.cards[i].seniority === card.seniority && this.cards[i].suit === card.suit) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tduplicateCardSet: function duplicateCardSet() {\n\t\t\tvar cloneArray = [];\n\t\t\tfor (var i = 0; i < this.cards.length; i++) {\n\t\t\t\tvar cloneElem = {};\n\t\t\t\tfor (var key in this.cards[i]) {\n\t\t\t\t\tcloneElem[key] = this.cards[i][key];\n\t\t\t\t}\n\t\t\t\tcloneArray.push(cloneElem);\n\t\t\t}\n\t\t\tthis.cards = this.cards.concat(cloneArray);\n\t\t\tthis.cards.sort(this.mixCardSet);\n\t\t\tthis.timerTick();\n\t\t},\n\t\tmixCardSet: function mixCardSet() {\n\t\t\treturn Math.random() - 0.5;\n\t\t},\n\t\topenCards: function openCards(index) {\n\t\t\tvar _this = this;\n\n\t\t\tif (!this.cardsFrozen && this.cards[index].state !== 'opened') {\n\t\t\t\tthis.cards[index].state = 'opened';\n\t\t\t\tthis.currentCards.push(this.cards[index]);\n\t\t\t\tif (this.currentCards.length === 2 && this.currentCards[0].suit === this.currentCards[1].suit && this.currentCards[0].seniority === this.currentCards[1].seniority) {\n\t\t\t\t\tfor (var i = 0; i < this.currentCards.length; i++) {\n\t\t\t\t\t\tthis.currentCards[i].state = 'done';\n\t\t\t\t\t}\n\t\t\t\t\tthis.donePairs++;\n\t\t\t\t\tthis.currentCards = [];\n\t\t\t\t\tthis.isAllDone();\n\t\t\t\t} else if (this.currentCards.length === 2) {\n\t\t\t\t\tthis.cardsFrozen = true;\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t_this.closeCards();\n\t\t\t\t\t}, 1250);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcloseCards: function closeCards() {\n\t\t\tfor (var i = 0; i < this.cards.length; i++) {\n\t\t\t\tif (this.cards[i].state === 'opened') {\n\t\t\t\t\tthis.cards[i].state = 'closed';\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.currentCards = [];\n\t\t\tthis.cardsFrozen = false;\n\t\t},\n\t\ttimerTick: function timerTick() {\n\t\t\tvar _this2 = this;\n\n\t\t\tif (this.donePairs < 12) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t_this2.timer++;\n\t\t\t\t\t_this2.timerTick();\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t},\n\t\tisAllDone: function isAllDone() {\n\t\t\tif (this.donePairs === 12) {\n\t\t\t\tthis.cardsFrozen = true;\n\t\t\t}\n\t\t},\n\t\tcloseTab: function closeTab() {\n\t\t\twindow.close();\n\t\t}\n\t},\n\tcreated: function created() {\n\t\tthis.getCardSet();\n\t}\n});"]}