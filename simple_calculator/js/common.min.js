"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var a=0,l=Array(e.length);a<e.length;a++)l[a]=e[a];return l}return Array.from(e)}for(var doc=document,i=0;i<5;i++){var liItm=doc.querySelector(".notation__list-item").cloneNode(!0);doc.querySelector(".notation__list").appendChild(liItm)}for(var digits=doc.querySelectorAll(".digit"),operations=doc.querySelectorAll(".operator"),clearBtns=doc.querySelectorAll(".clear-btn"),comma=doc.getElementById("comma"),backspace=doc.getElementById("backspace"),saveData=doc.querySelectorAll(".save-data"),display=doc.getElementById("display"),MemoryCurrentValue=0,MemoryNewValue=!1,MemoryPendingValue="",blockedBtns=[].concat(_toConsumableArray(digits),_toConsumableArray(operations),[comma,backspace,clearBtns[1]],_toConsumableArray(saveData)),_i=0;_i<digits.length;_i++)digits[_i].addEventListener("click",function(e){pressDigit(e.target.textContent)});for(var _i2=0;_i2<operations.length;_i2++)operations[_i2].addEventListener("click",function(e){operation(e.target.textContent)});for(var _i3=0;_i3<clearBtns.length;_i3++)clearBtns[_i3].addEventListener("click",clear);comma.addEventListener("click",decimal),backspace.addEventListener("click",makeBackspace);for(var _i4=0;_i4<saveData.length;_i4++)saveData[_i4].addEventListener("click",makeSaveData);function pressDigit(e){playSound(),MemoryNewValue?(display.value=e,MemoryNewValue=!1):"0"===display.value?display.value=e:display.value.length<11&&(display.value+=e)}function operation(e){playSound();var a=display.value;if(MemoryNewValue&&"="!==MemoryPendingValue)display.value=MemoryCurrentValue;else{switch(MemoryNewValue=!0,MemoryPendingValue){case"+":MemoryCurrentValue+=parseFloat(a);break;case"-":MemoryCurrentValue-=parseFloat(a);break;case"×":MemoryCurrentValue*=parseFloat(a);break;case"÷":"0"!==a?MemoryCurrentValue/=parseFloat(a):(MemoryCurrentValue="Error",blockBtns());break;default:MemoryCurrentValue=parseFloat(a)}display.value="="!==e?MemoryCurrentValue+e:MemoryCurrentValue,MemoryPendingValue=e}checkLength()}function clear(e){if(playSound(),"clear-entry"===e.target.id)display.value="0",MemoryNewValue=!0;else{display.value="0",MemoryNewValue=!0,MemoryPendingValue="";for(var a=MemoryCurrentValue=0;a<blockedBtns.length;a++)blockedBtns[a].removeAttribute("disabled")}}function decimal(){playSound(),MemoryNewValue&&(display.value="0.",MemoryNewValue=!1),-1===display.value.indexOf(".")&&(display.value+=".")}function makeBackspace(){playSound();var e=display.value;-1===display.value.indexOf("*")&&-1===display.value.indexOf("/")&&-1===display.value.indexOf("+")&&-1===display.value.indexOf("-")&&-1===display.value.indexOf("÷")&&-1===display.value.indexOf("×")&&(1<e.length?display.value=e.substr(0,e.length-1):display.value="0")}function makeSaveData(e){playSound();var a=e.currentTarget;""===a.nextElementSibling.value?(a.nextElementSibling.value=display.value,a.classList.add("notation__btn_remove")):(a.nextElementSibling.value=null,a.classList.remove("notation__btn_remove"))}function checkLength(){var e=display.value.indexOf(".");if(11<display.value.length&&-1!==e)for(display.value=MemoryCurrentValue.toFixed(10-MemoryCurrentValue.toFixed().length);"0"===display.value.slice(-1);){var a=display.value;display.value=a.substr(0,a.length-1)}11<display.value.length&&-1===e&&(display.value="TooMuchBro!",blockBtns())}function blockBtns(){for(var e=0;e<blockedBtns.length;e++)blockedBtns[e].setAttribute("disabled","disabled")}addEventListener("keypress",function(e){doc.querySelector(".focus-debug").focus();var a=e.charCode,l=String.fromCharCode(a);if(47<a&&a<58)pressDigit(l);else switch(a){case 0:case 13:operation(l="=");break;case 42:operation(l="×");break;case 47:operation(l="÷");break;case 43:case 45:operation(l);break;case 46:case 44:decimal()}});var sound=new Audio;sound.src="aud/sound.mp3";var soundOn=!0,soundToggle=doc.querySelector(".sound-toggle");function playSound(){soundOn&&sound.play()}soundToggle.addEventListener("click",function(){this.classList.toggle("sound-toggle_off"),soundOn=!soundOn});
//# sourceMappingURL=maps/common.min.js.map
